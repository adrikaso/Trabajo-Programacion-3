<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administración - Suplementos Pro</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <link rel="stylesheet" href="assets/css/menuAdmin.css">

</head>

<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <h1>TU SUPLEMENTO</h1>
                <p>Panel de Administración</p>
                <button class="btn btn-danger" id="btnCloseSession">Cerrar Sesión</button>
            </div>


            <div class="menu-items">
                <div class="menu-item active" data-section="usuarios">
                    <svg class="menu-icon" viewBox="0 0 24 24">
                        <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                    </svg>
                    <span class="menu-text">Ver Usuarios</span>
                </div>

                <div class="menu-item" data-section="productos">
                    <svg class="menu-icon" viewBox="0 0 24 24">
                        <path d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
                    </svg>
                    <span class="menu-text">Ver Productos</span>
                </div>

                <div class="menu-item" data-section="ventas">
                    <svg class="menu-icon" viewBox="0 0 24 24">
                        <path
                            d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                    </svg>
                    <span class="menu-text">Ver Ventas</span>
                </div>

                <div class="menu-item" data-section="estadisticas">
                    <svg class="menu-icon" viewBox="0 0 24 24">
                        <path
                            d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                    </svg>
                    <span class="menu-text">Ver Estadísticas</span>
                </div>

                <div class="menu-item" data-section="registros">
                    <svg class="menu-icon" viewBox="0 0 24 24">
                        <path
                            d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                    </svg>
                    <span class="menu-text">Ver Registros</span>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                <h2 id="section-title">Gestión de Usuarios</h2>
                <p id="section-description">Administra y monitorea todos los usuarios registrados</p>
            </div>

            <!-- Usuarios Section -->
            <div class="content-section active" id="usuarios">
                <div class="cards-grid">
                    <div class="card">
                        <h3>Total Usuarios</h3>
                        <div class="stat-number" id="total-users"></div>
                    </div>
                    <div class="card">
                        <h3>Crear Nuevo Usuario</h3>
                        <button class="btn btn-primary mt-4 p-2.5" id="btnCreateUser">Crear</button>
                    </div>
                </div>

                <!-- FORMULARIO MODAL DE ADMIN -->
                <div class="modal fade" id="userModal" tabindex="-1" aria-labelledby="userModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">

                            <!-- Cabecera -->
                            <div class="modal-header">
                                <h5 class="modal-title" id="formTitulo">
                                    <i class="fas fa-user me-2"></i>Modificar usuario
                                </h5>
                                <button type="button" class="btn-close btn-close-white"
                                    data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body">
                                <form id="formUser" action="/usuarios" method="POST">
                                    <div class="mb-3">
                                        <label for="name" class="form-label">Nombre</label>
                                        <input type="text" class="form-control" id="user-name" name="name"
                                            placeholder="Tu nombre" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="emailCreate" class="form-label">Correo electrónico</label>
                                        <input type="email" class="form-control" id="user-emailCreate" name="email"
                                            placeholder="ejemplo@correo.com" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="passwordCreate" class="form-label">Contraseña</label>
                                        <input type="password" class="form-control" id="user-passwordCreate"
                                            name="password" placeholder="********" required>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Rol</label>
                                        <div id="roleCheckboxContainer"></div>
                                    </div>
                                    
                                </form>
                            </div>
                            <div class="modal-footer">
                                <div class="d-flex gap-2 flex-wrap">
                                    <button type="button" class="btn btn-warning-custom" id="btnUpdateUser"><i class="fas fa-edit me-1"></i>Modificar Usuario</button>
                                </div>
                                <div class="ms-auto">
                                    <button class="btn btn-secondary w-100 mt-2" id="btnFormReset"><i class="fas fa-eraser me-1"></i>Limpiar</button>
                                </div>
                                <div class="">
                                    <button type="button" id="btnCloseUserModal" class="btn btn-secondary w-100 mt-2" data-bs-dismiss="modal"><i class="fas fa-times me-1"></i>Cancelar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="data-table">
                    <div class="table-header">
                        <h3>Lista de Usuarios</h3>
                    </div>
                    <div class="table-content">
                        <table id="users-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Nombre</th>
                                    <th>Email</th>
                                    <th>Roles</th>
                                    <th>Fecha Registro</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="users-table-body">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!-- Productos Section -->
            <div class="content-section" id="productos">
                <div class="cards-grid">
                    <div class="card">
                        <h3>Total Productos</h3>
                        <div class="stat-number" id="total-products"></div>
                    </div>
                    <div class="card">
                        <h3>Productos Activos</h3>
                        <div class="stat-number" id="active-products"></div>
                    </div>
                    <div class="card">
                        <h3>Productos Inactivos</h3>
                        <div class="stat-number" id="inactive-products"></div>
                    </div>
                </div>

                <!-- Modal Formulario de Producto -->
                <div class="modal fade" id="productModal" tabindex="-1" aria-labelledby="productModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="formTitulo">
                                    <i class="fas fa-box me-2"></i>Agregar producto
                                </h5>
                                <button type="button" class="btn-close btn-close-white"
                                    data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body">
                                <form id="formProduct">
                                    <div class="row g-4">
                                        <!-- Nombre del Producto -->
                                        <div class="col-md-6">
                                            <label for="name" class="form-label">
                                                <i class="fas fa-tag me-1"></i>Nombre del Producto
                                            </label>
                                            <input type="text" id="name" class="form-control"
                                                placeholder="Ej: Whey Protein" required>
                                        </div>

                                        <!-- Precio -->
                                        <div class="col-md-6">
                                            <label for="price" class="form-label">
                                                <i class="fas fa-dollar-sign me-1"></i>Precio
                                            </label>
                                            <input type="number" id="price" class="form-control" placeholder="25000"
                                                required>
                                        </div>

                                        <!-- Categoría -->
                                        <div class="col-md-6">
                                            <label for="category" class="form-label">
                                                <i class="fas fa-list me-1"></i>Categoría
                                            </label>
                                            <select id="category" class="form-select" required>
                                                <option value="">Seleccionar categoría</option>
                                            </select>
                                        </div>

                                        <!-- Estado Activo -->
                                        <div class="col-md-6">
                                            <label class="form-label">
                                                <i class="fas fa-toggle-on me-1"></i>Estado
                                            </label>
                                            <div class="form-check form-switch">
                                                <input class="form-check-input" type="checkbox" id="active" checked>
                                                <label class="form-check-label" for="active">
                                                    Producto Activo
                                                </label>
                                            </div>
                                        </div>

                                        <!-- Imagen -->
                                        <div class="col-12">
                                            <label for="img" class="form-label">
                                                <i class="fas fa-image me-1"></i>Imagen del Producto
                                            </label>
                                            <input type="file" id="img" class="form-control" name="picture"
                                                accept="image/*" required>

                                            <!-- Preview Container -->
                                            <div class="preview-container mt-3">
                                                <img id="preview" src="#" alt="Previsualización" class="preview-image"
                                                    style="display: none;">
                                                <div id="preview-placeholder">
                                                    <i class="fas fa-image fa-3x text-muted mb-2"></i>
                                                    <p class="text-muted mb-0">Vista previa de la imagen</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Campo oculto para ID de producto (para edición) -->
                                    <input type="hidden" id="productoId">
                                </form>
                            </div>
                            <div class="modal-footer">
                                <!-- Botones de prueba/acción -->
                                <div class="d-flex gap-2 flex-wrap">
                                    <button type="button" id="btnCreateProduct"
                                        class="btn btn-warning-custom btn-custom">
                                        <i class="fas fa-plus me-1"></i>Crear Producto
                                    </button>
                                    <button type="button" id="btnUpdateProduct" class="btn btn-warning-custom">
                                        <i class="fas fa-edit me-1"></i>Editar Producto
                                    </button>
                                    <!-- <button type="button" id="btnTestDeleteProduct"
                                        class="btn btn-danger-custom btn-custom">
                                        <i class="fas fa-trash me-1"></i>Test DELETE
                                    </button> -->
                                </div>
                                <div class="ms-auto">
                                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                                        <i class="fas fa-times me-1"></i>Cancelar
                                    </button>
                                    <!-- <button type="button" class="btn btn-success-custom btn-custom">
                                        <i class="fas fa-save me-1"></i>Guardar
                                    </button> -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="data-table">
                    <div class="table-header d-flex justify-content-between align-items-center">
                        <h3>Inventario de Productos</h3>
                        <button data-action="create" type="button" class="btn btn-light-custom" data-bs-toggle="modal"
                            data-bs-target="#productModal">
                            <i class="fas fa-plus me-2"></i>Crear Producto
                        </button>
                    </div>
                    <div class="table-content">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Producto</th>
                                    <th>Precio</th>
                                    <th>Categoría</th>
                                    <th>Estado</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="products-table-body"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Pedidos Section -->
            <div class="content-section" id="ventas">
                <div class="data-table">
                    <div class="table-header">
                        <h3>Lista de Pedidos</h3>
                    </div>
                    <div class="table-content">
                        <table id="orders-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Fecha</th>
                                    <th>Cliente</th>
                                    <th>Total</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="orders-table-body">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Estadísticas Section -->
            <div class="content-section" id="estadisticas">
                <div class="cards-grid">
                    <div class="card">
                        <h3>Ingresos Totales</h3>
                        <div class="stat-number" id="total-sales"></div>
                    </div>
                    <div class="card">
                        <h3>Cantidad de Pedidos</h3>
                        <div class="stat-number" id="total-orders"></div>
                    </div>
                    <div class="card">
                        <h3>Promedio de Ventas</h3>
                        <div class="stat-number" id="average-sales"></div>
                    </div>
                </div>

                <div class="cards-grid">
                    <div class="card" id="sales-trends">
                        <h3>📈 Tendencias de Ventas</h3>
                        <p>Productos más vendidos:</p>
                    </div>
                    <div class="card">
                        <h3>🎯 Objetivos del Mes</h3>
                        <p>Progreso hacia metas:</p>
                        <div>Ventas: 78% completado</div>
                        <div>Nuevos clientes: 92% completado</div>
                        <div>Satisfacción: 95% completado</div>
                    </div>
                </div>
            </div>

            <!-- Registros Section -->
            <div class="content-section" id="registros">
                <div class="cards-grid">
                    <div class="card">
                        <h3>Total Registros</h3>
                        <div class="stat-number" id="total-logs"></div>
                    </div>
                </div>


                <div class="data-table">
                    <div class="table-header">
                        <h3>Registro de Actividades</h3>
                    </div>
                    <div class="table-content w-100">
                        <table>
                            <thead>
                                <tr>
                                    <th>Fecha</th>
                                    <th>Usuario</th>
                                    <th>Acción</th>
                                </tr>
                            </thead>
                            <tbody id="logs-table-body">
                                <tr>
                                    <td>30/06/2025 14:32:15</td>
                                    <td>admin@suplementos.com</td>
                                    <td>LOGIN</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/menuAdmin.js"></script>
</body>

</html>